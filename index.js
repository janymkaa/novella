const scenes = [
    {
        bg: 'Ð¿ÐµÑ€ÐµÑƒÐ»Ð¾Ðº.jpg',
        text:
`Ð¢Ñ‹ Ð¸Ð´Ñ‘ÑˆÑŒ Ð¿Ð¾ Ñ‚Ñ‘Ð¼Ð½Ð¾Ð¼Ñƒ Ð¿ÐµÑ€ÐµÑƒÐ»ÐºÑƒ Ð¿Ð¾Ð·Ð´Ð½ÐµÐ¹ Ð½Ð¾Ñ‡ÑŒÑŽ.
Ð’Ð¾ÐºÑ€ÑƒÐ³ Ñ‚Ð¸Ñ…Ð¾, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²ÐµÑ‚ÐµÑ€ ÑˆÑƒÑ€ÑˆÐ¸Ñ‚ Ð¼ÑƒÑÐ¾Ñ€Ð¾Ð¼ Ñƒ Ð±Ð¾Ñ€Ð´ÑŽÑ€Ð¾Ð².

Ð’Ð´Ñ€ÑƒÐ³ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ð²Ð¸Ð±Ñ€Ð¸Ñ€ÑƒÐµÑ‚.`,
        sound: 'notify'
    },
    {
        bg: 'Ð½ÐµÑ‚Ð·Ð²ÐµÑÑ‚Ð½Ð¾.jpg',
        text:
`Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾Ð³Ð¾ Ð½Ð¾Ð¼ÐµÑ€Ð°:

Â«ÐÐµ Ð¾Ð±Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°Ð¹ÑÑ Ð½Ð¸ Ð² ÐºÐ¾ÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð½Ð°Ð·Ð°Ð´Â»
`,
        choices: [
            { text: 'ÐžÐ±ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ', next: 2 },
            { text: 'Ð˜Ð´Ñ‚Ð¸ Ð´Ð°Ð»ÑŒÑˆÐµ', next: 3 }
        ],
        sound: 'notify'
    },
    {
        bg: 'Ð±Ð°Ð±Ð°Ð¹ÐºÐ°.jpg',
        text:
`Ð¢Ñ‹ Ð¾Ð±Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°ÐµÑˆÑŒÑÑ â€” Ð¸ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÐµÑˆÑŒ,
Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð° Ð¸Ð³Ñ€Ð° Ð‘Ð°Ð±Ð°Ð¹ÐºÐ¸.

Ð¢ÑŒÐ¼Ð° Ð²Ð¾ÐºÑ€ÑƒÐ³ Ð±ÑƒÐ´Ñ‚Ð¾ ÑÐ¶Ð¸Ð¼Ð°ÐµÑ‚ÑÑâ€¦
Ð¢Ñ‹ Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ñ‹Ð²Ð°ÐµÑˆÑŒ.`,
        end: true,
        sound: 'death'
    },
    {
        bg: 'Ñ‡ÐµÐµÐµÐµÐµÐµÐµ.jpg',
        text:
`Ð¢Ñ‹ ÑƒÑÐºÐ¾Ñ€ÑÐµÑˆÑŒ ÑˆÐ°Ð³.
Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ ÑÐ½Ð¾Ð²Ð° Ð²Ð¸Ð±Ñ€Ð¸Ñ€ÑƒÐµÑ‚.

Â«ÐÐµ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ð¹ÑÑÂ»

â€” Ð§Ñ‚Ð¾ Ð·Ð° Ð¿Ñ€Ð°Ð½Ðº? â€” Ð´ÑƒÐ¼Ð°ÐµÑˆÑŒ Ñ‚Ñ‹.

Ð¢Ñ‹ Ð·Ð²Ð¾Ð½Ð¸ÑˆÑŒ Ð¿Ð¾ Ð½Ð¾Ð¼ÐµÑ€Ñƒâ€¦
ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð½Ð¾Ð¼ÐµÑ€Ð° Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚.
ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð·Ð·Ð°Ð´Ð¸ Ñ‚ÐµÐ±Ñ ÑÐ»Ñ‹ÑˆÐ¸ÑˆÑŒ ÐºÐ°ÐºÐ¾Ð¹ Ñ‚Ð¾ Ð³Ð¾Ð»Ð¾Ñ Ð±Ð°Ð±ÑƒÑˆÐºÐ¸.
Â«ÐŸÐ¾Ð¼Ð¾Ð³Ð¸ Ð¼Ð½Ðµ Ñ Ð¿Ð°ÐºÐµÑ‚Ð°Ð¼Ð¸ Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°Â»
`,
        choices: [
            { text: 'ÐžÐ±ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð¸ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ', next: 4 },
            { text: 'Ð˜Ð´Ñ‚Ð¸ Ð´Ð°Ð»ÑŒÑˆÐµ', next: 5 }
        ],
        sound: 'notify'
    },
    {
        bg: 'Ð±Ð°Ð±ÑƒÑˆÐºÐ°.jpg',
        text:
`Ð¢Ñ‹ Ð´ÑƒÐ¼Ð°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ ÐºÑ‚Ð¾-Ñ‚Ð¾ Ð¼Ð¾Ð³ Ð·Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ.

Ð¢Ñ‹ ÑÐ½Ð¾Ð²Ð° Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ñ‹Ð²Ð°ÐµÑˆÑŒ Ð¸Ð³Ñ€Ðµ Ð‘Ð°Ð±Ð°Ð¹ÐºÐ¸.`,
        end: true,
        sound: 'death'
    },
    {
        bg: 'Ð²Ñ‹Ñ…Ð¾Ð´.jpg',
        text:
`Ð¢Ñ‹ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÐµÑˆÑŒ Ð¸Ð´Ñ‚Ð¸, ÑÑ‚Ð°Ñ€Ð°ÑÑÑŒ Ð½Ðµ Ð¾Ð³Ð»ÑÐ´Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ.

Ð’Ð¿ÐµÑ€ÐµÐ´Ð¸, Ð² ÑƒÐ³Ð»Ñƒ Ð¿ÐµÑ€ÐµÑƒÐ»ÐºÐ°,
ÐµÐ´Ð²Ð° Ð·Ð°Ð¼ÐµÑ‚Ð½Ð¾ Ð¼ÐµÐ»ÑŒÐºÐ°ÐµÑ‚ Ñ‚ÐµÐ½ÑŒ.`,
        choices: [
            { text: 'ÐŸÐ¾Ð¹Ñ‚Ð¸ Ñ‚ÑƒÐ´Ð°', next: 6 },
            { text: 'ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒÑÑ Ð¸ Ð¿Ð¾ÑÐ¿Ð°Ñ‚ÑŒ', next: 7 }
        ]
    },
    {
        bg: 'ÑÐ²Ð¾Ð±Ð¾Ð´Ð°.jpg',
        text:
`Ð¢Ñ‹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð±Ð»Ð¸Ð¶Ðµâ€¦

ÐŸÐµÑ€ÐµÐ´ Ñ‚Ð¾Ð±Ð¾Ð¹ ÑÑ€ÐºÐ¾ Ð¾ÑÐ²ÐµÑ‰Ñ‘Ð½Ð½Ñ‹Ð¹ Ð²Ñ‹Ñ…Ð¾Ð´ Ð¸Ð· Ð¿ÐµÑ€ÐµÑƒÐ»ÐºÐ°.
Ð¢ÐµÐ½ÑŒ Ð¸ÑÑ‡ÐµÐ·Ð°ÐµÑ‚ â€” ÑÑ‚Ð¾ Ð±Ñ‹Ð» Ð»Ð¸ÑˆÑŒ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€.

Ð¢Ñ‹ Ð²Ñ‹Ð±Ñ€Ð°Ð»Ð°ÑÑŒ.

ðŸŽ‰ Ð¢Ñ‹ Ð²Ñ‹Ð¸Ð³Ñ€Ð°Ð»Ð°.`,
        end: true,
        sound: 'win'
    },
    {
        bg: 'Ð¿Ð¾Ð³Ð»Ð¾Ñ‰ÐµÐ½Ð¸Ðµ.jpg',
        text:
`Ð¢Ñ‹ Ñ€ÐµÑˆÐ°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ ÑƒÑÑ‚Ð°Ð»Ð°,
Ð¸ Ð¿Ñ€Ð¸ÑÐ»Ð¾Ð½ÑÐµÑˆÑŒÑÑ Ðº ÑÑ‚ÐµÐ½Ðµ.

ÐÐ¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼ â€”
Ð½ÐµÐ»ÑŒÐ·Ñ Ð¾ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒÑÑ.

ÐŸÐµÑ€ÐµÑƒÐ»Ð¾Ðº Ð¿Ð¾Ð³Ð»Ð¾Ñ‰Ð°ÐµÑ‚ Ñ‚Ð¸ÑˆÐ¸Ð½Ð°.
Ð¢Ñ‹ Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ñ‹Ð²Ð°ÐµÑˆÑŒ.`,
        end: true,
        sound: 'death'
    }
];

let index = 0;
let timer = null;

const bg = document.getElementById('bg');
const text = document.getElementById('t');
const choices = document.getElementById('c');
const nextBtn = document.getElementById('n');



function typeText(str) {
    clearInterval(timer);
    text.textContent = '';
    text.style.opacity = 0;
    let i = 0;
    timer = setInterval(() => {
        if (i >= str.length) {
            clearInterval(timer);
            timer = null;
            text.style.opacity = 1;
            return;
        }
        text.textContent += str[i++];
    }, 5);
}

function k() {
    const s = scenes[index];
    bg.src = s.bg;
    typeText(s.text);
    choices.innerHTML = '';

    if (s.choices) {
        nextBtn.style.display = 'none';
        s.choices.forEach(c => {
            const btn = document.createElement('div');
            btn.className = 'o';
            btn.textContent = c.text;
            btn.onclick = () => {
                index = c.next;
                k();
            };
            choices.appendChild(btn);
        });
    } else {
        nextBtn.style.display = 'block';
        nextBtn.textContent = s.end ? 'Ð—Ð°Ð½Ð¾Ð²Ð¾' : 'Ð”Ð°Ð»ÐµÐµ';
        nextBtn.onclick = () => {
            if (timer) {
                clearInterval(timer);
                text.textContent = s.text;
                timer = null;
                text.style.opacity = 1;
                return;
            }
            index = s.end ? 0 : index + 1;
            k();
        };
    }
}

k();